<!DOCTYPE html>
<html>
<head>
    <title>Flood Inundation Mapper</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="styles/vendor.css">
    <!-- CSS for the mapping components -->
    <link rel="stylesheet" href="https://js.arcgis.com/3.14/dijit/themes/claro/claro.css">
    <link rel="stylesheet" href="https://js.arcgis.com/3.14/esri/css/esri.css">

    <link rel="stylesheet" href="styles/main.css">
    <!-- <link rel="stylesheet" href="styles/base.css"> -->
    <link rel="stylesheet" href="styles/base.css">

    <link rel="shortcut icon" href="/favicon.ico">

    <script src="scripts/vendor.js"></script>


    <script src="http://js.arcgis.com/3.13/"></script>


    <script src="scripts/combined.js"></script>

</head>
<body>

<div id="navbar" class="navbar navbar-static navbar-default navbar-fixed-top navbar-dark">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle toggle-left hidden-md hidden-lg" data-toggle="sidebar" data-target=".sidebar-left">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://www.usgs.gov">
                <img alt="USGS logo" height="38px" src="images/USGS_ID_white.png">
                <span class='hidden-xs' style='font-size:20px;display:inline-block;'>&nbsp;&nbsp;Flood Inundation Mapper</span>
            </a>
        </div>

        <button id="geosearchNav" type="button" class="btn btn-primary navbar-btn pull-right">
            <span class="glyphicon glyphicon-search"></span>
            <span id="geosearchButtonText"> Geosearch</span>
        </button>

        <button id="aboutNav" class="btn btn-default navbar-btn pull-right">
            <i class="fa fa-question-circle"></i><span class="hidden-xs">&nbsp;&nbsp;About</span>
        </button>

        <!-- legend buttton for navbar. to be removed if we like the in-map legend toggle -->
        <!--<button id="legendButtonNavBar" type="button" class="btn btn-primary navbar-btn pull-right" style="margin-right: 1em;"><span class="glyphicon glyphicon-list"></span> Legend</button>-->
        <!-- toggle for a right sidebar (currently not in use) -->
        <!--<button type="button" class="navbar-toggle toggle-right" data-toggle="sidebar" data-target=".sidebar-right">-->
        <!--<span class="icon-bar"></span>-->
        <!--<span class="icon-bar"></span>-->
        <!--<span class="icon-bar"></span>-->
        <!--</button>-->
    </div>
</div>


<div class="modal fade overflow-y-hidden" id="geosearchModal" style="display: none;" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
                <h4 class="modal-title">Geosearch</h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <div id="geosearch"><div id="sapi_searchTextBoxDiv"></div></div>
                </div>
                <form id="geosearch-form" class="form-inline">
                    <div class="checkbox">
                        <label>
                            <input id="chkExtent" type="checkbox"> Search in Map Only
                        </label>
                    </div>
                    <button id="btnGeosearch" type="button" class="btn btn-success btn-fixed" data-dismiss="modal"> Go </button>
                    <button id="btnDismiss" type="submit" class="btn btn-default btn-fixed" data-dismiss="modal">Dismiss</button>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div class="wim-alert-fixed" id="flood-tools-alert"
     style="position: fixed; top: 100px; right: 5px; color: #000; background-color: #f9f9f9; border-color: rgba(0,0,0.75);">
    <i class="ion-close-round close-alert" style="float: right;"></i> <!-- Close Button - MUST INCLUDE -->
    <div id="innerAlert">
        <h4><b>Flood Tools</b></h4>
        <p>flood tools available if you <a id="floodToolsOpen">click here</a></p>
        <p>
            <b>Current conditions</b><br/>
            Gage height: <label id="floodMinGage" class="current"></label> feet<br/>
            Discharge: <label id="floodMinDischarge" class="current"></label> cfs<br/>
        </p>
        <p>
            USGS Site No: <a id="usgsSiteNoMin" target="_blank" href=""></a><br/>
            NWS Site ID: <a id="nwsSiteIDMin" target="_blank" href=""></a>
        </p>
    </div>
</div>
<script> <!-- To close alert -->
$(".close-alert").click(function(){
    $(this).parent().slideUp(250);
    map.getLayer("fimExtents").setVisibility(false);
    map.getLayer("fimBreach").setVisibility(false);
    map.getLayer("fimSuppLyrs").setVisibility(false);
    //map.getLayer("huc8").setVisibility(false);
    //map.graphics.clear();
});
</script>
<style>
    .close-alert:hover{
        cursor: pointer;
    }
</style>

<div id="aboutModal" class="modal fade"  tabindex="-1" role="dialog" >
    <div class="modal-dialog  modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal" aria-hidden="true" style="color:gray;">&times;</button>
                <h4 class="modal-title">Flood Inundation Mapper</h4>
            </div>
            <div id="aboutModalBody" class="modal-body">
                <ul class="nav nav-tabs" id="aboutModalTabs">
                    <li role="presentation"><a id="aboutTab" href="#aboutTabPane" data-toggle="tab"><i class="fa fa-question-circle"></i>&nbsp;About the application</a></li>
                    <li role="presentation" class="active"><a id="disclaimerTab" href="#disclaimerTabPane" data-toggle="tab"><i class="fa fa-exclamation-circle"></i>&nbsp;Disclaimer</a></li>
                </ul>
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane" id="aboutTabPane"></br>
                        <h3>Uncertainties and Limitations for Use of Flood-Inundation Maps</h3>
                        <p>Although the flood-inundation
                        maps represent the boundaries of inundated areas with a distinct line, some uncertainty is associated with these
                        maps.  The flood boundaries shown were estimated based on water stages (water-surface elevations) and streamflows
                        at selected USGS streamgages.  Water-surface elevations along the stream reaches were estimated by steady-state
                        hydraulic modeling, assuming unobstructed flow, and using streamflows and hydrologic conditions anticipated at
                        the USGS streamgage(s).  Unique meteorological factors (timing and distribution of precipitation) may cause actual
                        streamflows along the modeled reach to vary from those assumed during a flood, which may lead to deviations in the
                        water-surface elevations and inundation boundaries shown.  Additional areas may be flooded due to unanticipated
                        conditions such as: changes in the streambed elevation or roughness, backwater into major tributaries along a main
                        stem river, or backwater from localized debris or ice jams.  The accuracy of the floodwater extent portrayed on
                        these maps will vary with the accuracy of the digital elevation model used to simulate the land surface.
                        Additional uncertainties and limitations pertinent to this study are described in the document accompanying this
                        set of flood inundation map plates.</p>

                        <p>If this series of flood-inundation maps will be used in conjunction
                        with National Weather Service (NWS) river forecasts, the user should be aware of additional uncertainties that may
                        be inherent or factored into NWS forecast procedures.  The NWS uses forecast models to estimate the quantity and
                        timing of water flowing through selected stream reaches in the United States.  These forecast models (1) estimate
                        the amount of runoff generated by precipitation and snowmelt, (2) simulate the movement of floodwater as it
                        proceeds downstream, and (3) predict the flow and stage (water-surface elevation) for the stream at a given
                        location (AHPS forecast point) throughout the forecast period (every 6 hours and 3 to 5 days out in many locations).
                        For more information on AHPS forecasts, please see:
                        <a href="http://water.weather.gov/ahps/pcpn_and_river_forecasting.pdf">http://water.weather.gov/ahps/pcpn_and_river_forecasting.pdf</a></p>

                        <p>Map produced by Wisconsin Internet Mapping (WiM) team.</p>

                        <p>Additional information about WiM is available at <a target="_blank" href="http://wim.usgs.gov">http://wim.usgs.gov</a></p>

                    </div>
                    <div role="tabpanel" class="tab-pane active" id="disclaimerTabPane"></br>
                        <h3>Disclaimer for Flood-Inundation Maps</h3>
                        <p>Inundated areas shown should not be used for navigation,
                        regulatory, permitting, or other legal purposes.  Although USGS intends to make this server available 24 hours a day,
                        7 days a week, timely delivery of data and products from this server through the Internet is not guaranteed.
                        The USGS provides these maps “as-is” for a quick reference, emergency planning tool but assumes no legal liability
                        or responsibility resulting from the use of this information.</p><br/>
                    </div>

                </div>
            </div>

            <div class="modal-footer">
                <p style="color:black; margin-left:35px;text-align:left">
                    For more information about the Flood Inundation Mapper please contact <a href="http://wim.usgs.gov/" target="_blank"><img src="images/wimvectorxs.png" id="wim_logo"></a>
                </p>
                <button class=" btn btn-default close" type="button" data-dismiss="modal" aria-hidden="true" style="color:gray;" class="btn btn-default">Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div> <!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- Begin page content -->
<div class="container-fluid keepit100">
    <div class="row keepit100">
        <!--<div id="sidebar" class="col-xs-7 col-sm-3 col-md-3 sidebar sidebar-left sidebar-animate sidebar-md-show no-col-padding">-->
        <div id="sidebar" class="col-xs-11 col-sm-10 col-md-3 col-lg-2 sidebar sidebar-left sidebar-animate sidebar-md-show no-col-padding">
            <!-- # include line below to get accordion effect with panels - opening one closes the others. remember closing div tag at bottom -->
            <!--<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">-->
            <!-- include btn-toolbar below to put legend and geosearch buttons next to eachother -->
            <!--<div class="btn-toolbar" style="margin-bottom: 2px;">-->
            <!--<div class="btn-group no-col-padding">-->
            <!-- sidebar legend button. to be rmoved if we like the in-map legend toggle -->
            <!--<button id="legendButtonSidebar" type="button" class="btn btn-default" ><span class="glyphicon glyphicon-list"></span> Legend</button>-->
            <!--<button id="geosearchButtonSidebar" type="button" class="btn btn-primary"><span class="glyphicon glyphicon-search"></span> Geosearch</button>-->
            <!--</div>-->
            <!--</div>-->
            <!--<button id="legendButtonSidebar" type="button" class="btn btn-default" ><span class="glyphicon glyphicon-list"></span> Legend</button>-->

            <!-- basemaps -->
            <div class="panel panel-default wim-sidebar-panel">
                <div class="panel-heading" id="basemapsHeader">
                    <h4 class="panel-title">
                        <a data-toggle="collapse"  href="#basemapsPanel" aria-expanded="false" aria-controls="basemapsPanel">
                            Basemaps
                        </a>
                    </h4>
                </div>
                <div id="basemapsPanel" class="panel-collapse collapse" role="tabpanel" aria-labelledby="basemapsHeader">
                    <div class="panel-body collapse in">
                        <button id="btnStreets" class="btn btn-default basemapBtn equalize"><img class="basemapThumb" alt="" src="images/streets.jpg"><br class="basemapThumb">Streets</button>
                        <button id="btnSatellite" class="btn btn-default basemapBtn equalize" ><img class="basemapThumb" alt="" src="images/satellite.jpg"><br class="basemapThumb">Satellite</button>
                        <button id="btnHybrid" class="btn btn-default basemapBtn equalize"><img class="basemapThumb" alt="" src="images/imagery_labels.jpg"><br class="basemapThumb">Hybrid</button>
                        <button id="btnTopo" class="btn btn-default basemapBtn equalize"><img class="basemapThumb" alt="" src="images/topo.jpg"><br class="basemapThumb">Topo</button>
                        <button id="btnTerrain" class="btn btn-default basemapBtn equalize"><img class="basemapThumb" alt="" src="images/terrain.jpg"><br class="basemapThumb">Terrain</button>
                        <button id="btnGray" class="btn btn-default basemapBtn equalize" ><img class="basemapThumb" alt="" src="images/gray.jpg"><br class="basemapThumb">Gray</button>
                        <button id="btnOSM" class="btn btn-default basemapBtn equalize"><img class="basemapThumb" alt="" src="images/osm.jpg"><br class="basemapThumb">OSM</button>
                        <button id="btnNatGeo" class="btn btn-default basemapBtn equalize"><img class="basemapThumb" alt="" src="images/natgeo.jpg"><br class="basemapThumb">NatGeo</button>
                        <button id="btnNatlMap" class="btn btn-default basemapBtn equalize"><img class="basemapThumb" alt="" src="images/national_map.jpg"><br class="basemapThumb">Nat'l Map</button>
                    </div>

                </div>
            </div>

            <!-- layers -->
            <div class="panel panel-default wim-sidebar-panel">
                <div class="panel-heading" id="layersPanelHeader">
                    <h4 class="panel-title">
                        <a class="collapsed" data-toggle="collapse" href="#layersPanel" aria-expanded="true" aria-controls="layersPanel">
                            Map Layers
                        </a>
                    </h4>
                </div>
                <div id="layersPanel" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="layersPanelHeader">
                    <div id="toggle" style="padding: 2px 2px;"></div>
                </div>
            </div>

            <!-- flood tools -->
            <!--<div id="floodToolsDiv" class="panel panel-default wim-sidebar-panel">
                <div class="panel-heading" id="floodToolsPanelHeader">
                    <h4 class="panel-title">
                        <a class="collapsed" data-toggle="collapse" href="#floodToolsPanel" aria-expanded="true" aria-controls="floodToolsPanel">
                            Flood Tools
                        </a>
                    </h4>
                </div>
                <div id="floodToolsPanel" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="floodToolsPanelHeader">
                    <label id="floodStartLabel">Click a FIM site to see flood polygons and information for the site</label>
                    <form id="slider">
                        <input id="floodSlider" type="range" name="stage" value="0" min="0" max="10" class="vertical-slider">
                        <div id="sliderText">
                            Selected gage height: <br/><label id="selectedValue"></label> ft<br/>
                            Site number: <br/><label id="siteNumber"></label>
                            <label>Select a gage height to view the flooded area</label>
                        </div>
                    </form>
                </div>
            </div>-->

            <!-- # closing div tag for accordion style panels -->
            <!--</div>-->
            <div class="identification pull-right">powered by  <a href="http://wim.usgs.gov/" target="_blank">WiM</a></div>
        </div>
        <div class="col-md-9 col-lg-10 col-md-offset-3 col-lg-offset-2 no-col-padding keepit100">
            <!-- legend, associated with legend buttons. to be removed if we stick with the in-map legend toggle -->
            <!--<div id="legend" class="legend" style="display: none" >-->
            <!--<button id="legendClose" type="button" class="close" data-dismiss="legend" aria-label="Close" aria-hidden="true">x</button>-->
            <!--<h4><b>Explanation</b></h4>-->
            <!--<div id="legendDiv"></div>-->
            <!--</div> -->

            <div id="mapDiv">

                <div id="legendElement" class="panel panel-default legendClass">
                    <div id="legendHeading" class=" legendHeading" role="tab">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" style="text-decoration: none"  href="#legendCollapse" aria-expanded="true" aria-controls="collapseOne">
                                <span class="glyphicon glyphicon-list"></span>
                                Legend
                            </a>
                        </h4>
                    </div>
                    <div id="legendCollapse" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                        <div id="legendDiv" class="panel-body"></div>
                    </div>
                </div>

                <div id="floodToolsDiv" class="panel panel-default floodToolsClass">
                    <div class="panel-heading">
                        <div class="panel-title">
                            <h4 id="floodToolsPanelHeader"></h4>
                        </div>
                    </div>
                    <div class="panel-body">

                        <div id="floodToolsPanel" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="floodToolsPanelHeader">
                            <ul class="nav nav-tabs" id="floodToolsTabs">
                                <li role="presentation" class="active"><a id="floodToolsTab" href="#floodToolsTabPane" data-toggle="tab"><i class="fa fa-umbrella"></i>&nbsp;Flood Tools</a></li>
                                <li role="presentation"><a id="servicesAndDataTab" href="#servicesAndDataTabPane" data-toggle="tab"><i class="fa fa-server"></i>&nbsp;Services and Data</a></li>
                            </ul>
                            <div class="tab-content">
                                <div role="tabpanel" class="tab-pane active" id="floodToolsTabPane">
                                    <form id="slider">
                                        <input id="floodSlider" type="range" name="stage" value="0" min="0" max="10" class="vertical-slider">
                                            Selected gage height: <br/><label for="floodSlider" id="selectedValue"></label> ft<br/>
                                        </input>
                                        <div id="sliderText">
                                            <p>
                                                <b>Current conditions</b><br/>
                                                Gage height: <label id="floodMaxGage" class="current"></label> feet<br/>
                                                Discharge: <label id="floodMaxDischarge" class="current"></label> cfs<br/>
                                            </p>
                                            <p>
                                                USGS Site No: <a id="usgsSiteNoMax" target="_blank" href=""></a><br/>
                                                NWS Site ID: <a id="nwsSiteIDMax" target="_blank" href=""></a>
                                            </p>
                                        </div>
                                        <label>Select a gage height to view the flooded area</label>
                                    </form>
                                </div>
                                <div role="tabpanel" class="tab-pane" id="servicesAndDataTabPane">
                                    <label>Services and data info here.</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--<div id="floodPanel" class="panel panel-default floodToolsClass">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            Flood Tools
                        </h4>
                    </div>
                    <div id="floodToolsPanelDrag" class="panel-body">
                        <!--<label id="floodStartLabelDrag">Click a FIM site to see flood polygons and information for the site</label>
                        <form id="sliderDrag">
                            <input id="floodSliderDrag" type="range" name="stage" value="0" min="0" max="10" class="vertical-slider">
                            <div id="sliderTextDrag">
                                Selected gage height: <br/><label id="selectedValueDrag"></label> ft<br/>
                                Site number: <br/><label id="siteNumberDrag"></label>
                                <label>Select a gage height to view the flooded area</label>
                            </div>
                        </form>
                    </div>
                </div>-->

            </div>

            <div id="homeButton"></div>
            <div id="locateButton"></div>

            <div id="latLngScale" class="latLngScale">
                <span class="hover-content"> <b>Map scale </b></span>
                1:<span id="scale"></span> <br>
                <span class="hover-content"><b>Latitude</b></span>
                <span id="latitude">y</span> |
                <span class="hover-content"> <b>Longitude</b></span>
                <span id="longitude">x</span>
                <span id="mapCenterLabel"  class="hover-content"> (center)</span>
            </div>

        </div>
        <div class="col-xs-7 col-sm-3 col-md-3 sidebar sidebar-right sidebar-animate"></div>
    </div>
</div>
</body>
</html>
